<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Factorial.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Assignment for class CS5010</a> &gt; <a href="index.source.html" class="el_package">org.nevec.rjm</a> &gt; <span class="el_source">Factorial.java</span></div><h1>Factorial.java</h1><pre class="source lang-java linenums">package org.nevec.rjm ;

import java.util.* ;
import java.math.* ;


/** Factorials.
* @since 2006-06-25
* @since 2012-02-15 Storage of the values based on Ifactor, not BigInteger.
* @author Richard J. Mathar
*/
public class Factorial
{
        /** The list of all factorials as a vector.
        */
<span class="nc" id="L16">        static Vector&lt;Ifactor&gt; a = new Vector&lt;Ifactor&gt;() ;</span>

        /** ctor().
        * Initialize the vector of the factorials with 0!=1 and 1!=1.
        */
        public Factorial()
<span class="nc" id="L22">        {</span>
<span class="nc bnc" id="L23" title="All 2 branches missed.">                if ( a.size() == 0 )</span>
                {
<span class="nc" id="L25">                        a.add(Ifactor.ONE) ;</span>
<span class="nc" id="L26">                        a.add(Ifactor.ONE) ;</span>
                }
<span class="nc" id="L28">        } /* ctor */</span>

        /** Compute the factorial of the non-negative integer.
        * @param n the argument to the factorial, non-negative.
        * @return the factorial of n.
        */
        public BigInteger at(int n)
        {
                /* extend the internal list if needed.
                */
<span class="nc" id="L38">                growto(n) ;</span>
<span class="nc" id="L39">                return a.elementAt(n).n ;</span>
        } /* at */

        /** Compute the factorial of the non-negative integer.
        * @param n the argument to the factorial, non-negative.
        * @return the factorial of n.
        */
        public Ifactor toIfactor(int n)
        {
                /* extend the internal list if needed.
                */
<span class="nc" id="L50">                growto(n) ;</span>
<span class="nc" id="L51">                return a.elementAt(n) ;</span>
        } /* at */

        /** Extend the internal table to cover up to n!
        * @param n The maximum factorial to be supported.
        * @since 2012-02-15
        */
        private void growto(int n)
        {
                /* extend the internal list if needed. Size to be 2 for n&lt;=1, 3 for n&lt;=2 etc.
                */
<span class="nc bnc" id="L62" title="All 2 branches missed.">                while ( a.size() &lt;=n )</span>
                {
<span class="nc" id="L64">                        final int lastn = a.size()-1 ;</span>
<span class="nc" id="L65">                        final Ifactor nextn = new Ifactor(lastn+1) ;</span>
<span class="nc" id="L66">                        a.add(a.elementAt(lastn).multiply(nextn) ) ;</span>
<span class="nc" id="L67">                }</span>
<span class="nc" id="L68">        } /* growto */</span>

} /* Factorial */
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>
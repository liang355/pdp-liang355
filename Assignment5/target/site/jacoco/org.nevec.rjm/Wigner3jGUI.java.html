<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Wigner3jGUI.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Assignment for class CS5010</a> &gt; <a href="index.source.html" class="el_package">org.nevec.rjm</a> &gt; <span class="el_source">Wigner3jGUI.java</span></div><h1>Wigner3jGUI.java</h1><pre class="source lang-java linenums">package org.nevec.rjm ;

import java.applet.* ;
import java.awt.* ;
import java.awt.event.* ;
import javax.swing.* ;
import javax.swing.event.* ;

import java.lang.* ;
import java.security.* ;
import java.util.* ;
import java.math.* ;


/** An interactive interface to the Wigner3j class.
* The GUI allows to preselect one of the symbols if the number of j-terms is small
* (6j up to 15j), or to enter any other connectivity for the triads of j-values.
* The actual j-values are entered as integers (2j+1) and the computation of one
* value (in exact square root representation) is started manually.
* @since 2011-02-15
*/
<span class="nc" id="L22">public class Wigner3jGUI implements ActionListener, ListSelectionListener</span>
{
        /** The master window of the session
        */
        JFrame fram ;

        /* global labels
        */
        Label Lbl0 ;
        Label Lbl1 ;

        JButton sear ;
        JList searJ ;
<span class="nc" id="L35">        String[] searOpt = {&quot;6j&quot;,&quot;9j&quot;,&quot;12j 1st&quot;,&quot;12j 2nd (not symm)&quot;,&quot;15j 1st&quot;,&quot;15j 2nd&quot;, &quot;15j 3rd&quot;, &quot;15j 4th&quot;,&quot;15j 5th&quot;} ;</span>

        /** Field with the triads inputs
        */
        TextArea inpGtria ;

        /** Field with the J-value inputs
        */
        TextArea inpGjval ;

        /** Field of the outputs.
        */
        TextArea outG ;

        GridBagLayout gridbag ;
        GridBagConstraints gridconstr ;

        /**
        * @since 2011-02-15
        */
        public void init()
        {
<span class="nc" id="L57">                fram =new JFrame(&quot;Wigner3jGUI&quot;) ;</span>

<span class="nc" id="L59">                Lbl0 = new Label(&quot;Input: (Triads upper area, values 2J+1 second area&quot;) ;</span>
<span class="nc" id="L60">                Lbl1 = new Label(&quot;Output:&quot;) ;</span>
        
<span class="nc" id="L62">                sear = new JButton(&quot;Compute&quot;) ;</span>
<span class="nc" id="L63">                sear.setActionCommand(&quot;compute&quot;) ;</span>
<span class="nc" id="L64">                sear.addActionListener(this) ;</span>
<span class="nc" id="L65">                sear.setToolTipText(&quot;Compute a general 3jn  value&quot;) ;</span>
        
<span class="nc" id="L67">                searJ = new JList(searOpt) ;</span>
<span class="nc" id="L68">                searJ.setLayoutOrientation(JList.HORIZONTAL_WRAP) ;</span>
<span class="nc" id="L69">                searJ.addListSelectionListener(this) ;</span>
        
<span class="nc" id="L71">                Font defFont = new Font(&quot;Monospaced&quot;,Font.PLAIN,11) ;</span>

<span class="nc" id="L73">                fram.setBackground(new Color(250,250,250)) ;</span>
<span class="nc" id="L74">                fram.setForeground(new Color(0,0,0)) ;</span>
<span class="nc" id="L75">                Color fg = new Color(0,200,0) ;</span>
<span class="nc" id="L76">                Color bg = new Color(10,10,10) ;</span>

<span class="nc" id="L78">                gridbag = new GridBagLayout() ; </span>
<span class="nc" id="L79">                fram.setLayout(gridbag) ;</span>

<span class="nc" id="L81">                gridconstr =new GridBagConstraints();</span>
<span class="nc" id="L82">                gridconstr.gridx = 0 ;</span>
<span class="nc" id="L83">                gridconstr.gridy = GridBagConstraints.RELATIVE ;</span>

<span class="nc" id="L85">                inpGtria = new TextArea(&quot;&quot;,4,80) ;</span>
<span class="nc" id="L86">                inpGtria.setFont(defFont) ;</span>
<span class="nc" id="L87">                inpGtria.setForeground(fg) ;</span>
<span class="nc" id="L88">                inpGtria.setBackground(bg) ;</span>

<span class="nc" id="L90">                inpGjval = new TextArea(&quot;&quot;,10,80) ;</span>
<span class="nc" id="L91">                inpGjval.setFont(defFont) ;</span>
<span class="nc" id="L92">                inpGjval.setForeground(fg) ;</span>
<span class="nc" id="L93">                inpGjval.setBackground(bg) ;</span>

<span class="nc" id="L95">                outG = new TextArea(&quot;&quot;,12,80) ;</span>
<span class="nc" id="L96">                outG.setEditable(false) ;</span>
<span class="nc" id="L97">                outG.setFont(defFont) ;</span>
<span class="nc" id="L98">                outG.setForeground(fg) ;</span>
<span class="nc" id="L99">                outG.setBackground(bg) ;</span>

<span class="nc" id="L101">                fram.add(Lbl0) ;</span>
<span class="nc" id="L102">                gridbag.setConstraints(Lbl0,gridconstr) ;</span>

<span class="nc" id="L104">                fram.add(inpGtria) ;</span>
<span class="nc" id="L105">                gridbag.setConstraints(inpGtria,gridconstr) ;</span>

<span class="nc" id="L107">                fram.add(inpGjval) ;</span>
<span class="nc" id="L108">                gridbag.setConstraints(inpGjval,gridconstr) ;</span>

<span class="nc" id="L110">                fram.add(sear) ;</span>
<span class="nc" id="L111">                gridbag.setConstraints(sear,gridconstr) ;</span>
<span class="nc" id="L112">                fram.add(searJ) ;</span>
<span class="nc" id="L113">                gridbag.setConstraints(searJ,gridconstr) ;</span>

<span class="nc" id="L115">                fram.add(Lbl1) ;</span>
<span class="nc" id="L116">                gridbag.setConstraints(Lbl1,gridconstr) ;</span>

<span class="nc" id="L118">                fram.add(outG) ;</span>
<span class="nc" id="L119">                gridbag.setConstraints(outG,gridconstr) ;</span>

<span class="nc" id="L121">                fram.pack();</span>
<span class="nc" id="L122">                fram.setVisible(true);</span>
<span class="nc" id="L123">        } /* init */</span>

        /** 
        * @since 2010-08-27
        */
        public void compute()
        {
<span class="nc" id="L130">                String tr = inpGtria.getText() ;</span>
<span class="nc" id="L131">                String[] trias = new String[4] ;</span>

                /* Read the trias configuration from inpGtria into trias[0..2], skipping lines
                * that start with a hash mark.
                */
<span class="nc" id="L136">                Scanner s = new Scanner(tr) ;</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">                for(int l=0 ; l &lt; 3 ; )</span>
                {
                        try
                        {
<span class="nc" id="L141">                                trias[l] = s.nextLine().trim() ;</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">                                if ( ! trias[l].startsWith(&quot;#&quot;) )</span>
<span class="nc" id="L143">                                        l++ ;</span>
                        }
<span class="nc" id="L145">                        catch(Exception e)</span>
                        {
<span class="nc" id="L147">                                outG.setText(&quot;ERROR: less than 3 lines in the triad definition&quot;) ;</span>
<span class="nc" id="L148">                                return ;</span>
<span class="nc" id="L149">                        }</span>
                }
                /* Read the J values from inpGjval into trias[3] in a loop
                */
<span class="nc" id="L153">                String j = inpGjval.getText() ;</span>
<span class="nc" id="L154">                s = new Scanner(j) ;</span>
                while ( true)
                {
                        try
                        {
<span class="nc" id="L159">                                trias[3] = s.nextLine().trim() ;</span>
                        }
<span class="nc" id="L161">                        catch(Exception e)</span>
                        {
<span class="nc" id="L163">                                return ;</span>
<span class="nc" id="L164">                        }</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">                        if ( ! trias[3].startsWith(&quot;#&quot;) )</span>
                        {
                                try {
<span class="nc" id="L168">                                        BigSurdVec w = Wigner3j.wigner3j(trias[0],trias[1],trias[2],trias[3]) ;</span>
<span class="nc" id="L169">                                        outG.append(w.toString()+ &quot; = &quot; + w.doubleValue()) ;</span>
                                }
<span class="nc" id="L171">                                catch (Exception e)</span>
                                {
<span class="nc" id="L173">                                        outG.append(e.toString()) ;</span>
<span class="nc" id="L174">                                        e.printStackTrace() ;</span>
<span class="nc" id="L175">                                }</span>
<span class="nc" id="L176">                                outG.append(&quot; # J = &quot;) ;</span>
<span class="nc" id="L177">                                Scanner num = new Scanner(trias[3]) ;</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">                                while( num.hasNextInt() )</span>
                                {
<span class="nc" id="L180">                                        int twoj1 = num.nextInt() ;</span>
<span class="nc" id="L181">                                        Rational jfrac = new Rational(twoj1-1,2) ;</span>
<span class="nc" id="L182">                                        outG.append(jfrac.toString() + &quot; &quot;) ;</span>
<span class="nc" id="L183">                                }</span>
<span class="nc" id="L184">                                outG.append(&quot;\n&quot;) ;</span>
<span class="nc" id="L185">                        }</span>
                }
        } /* compute */

        /** Interpreter parser loop.
        * @param e the information on which button had been pressed in the GUI
        * @since 2011-02-15
        */
        public void actionPerformed(ActionEvent e)
        {
<span class="nc" id="L195">                String lin = e.getActionCommand() ;</span>
                /* debugging
                System.out.println(&quot;Ac&quot;+e.paramString()) ;
                System.out.println(lin) ;
                */
<span class="nc bnc" id="L200" title="All 2 branches missed.">                if ( lin == &quot;compute&quot;)</span>
                {
<span class="nc" id="L202">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L203">                        compute() ;</span>
                }
<span class="nc" id="L205">        } /* actionPerformed */</span>

        /** Interpreter parser loop.
        * @param e the information on which of the 3jn templates had been selected in the Menu
        * @since 2011-02-18
        */
        public void valueChanged(ListSelectionEvent e)
        {
<span class="nc bnc" id="L213" title="All 10 branches missed.">                switch( searJ.getMinSelectionIndex() )</span>
                {
                case 0:
<span class="nc" id="L216">                        inpGtria.setText(&quot;6\n&quot;) ;</span>
<span class="nc" id="L217">                        inpGtria.append(&quot;1 2 -3 -1 5 6\n&quot;) ;</span>
<span class="nc" id="L218">                        inpGtria.append(&quot;4 -5 3 -4 -2 -6&quot;) ;</span>
<span class="nc" id="L219">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L220">                        break;</span>
                case 1:
                        /* Yutsis Figure 18.1 index map.
                        * j1=1, j2=2, j3=3
                        * k1=4, k2=5, k3=6
                        * l1=7, l2=8, l3=9
                        */
<span class="nc" id="L227">                        inpGtria.setText(&quot;9\n&quot;) ;</span>
<span class="nc" id="L228">                        inpGtria.append(&quot;1 3 2 4 6 5 7 9 8 # (j1 j3 j2) (k1 k3 k2) (l1 l3 l2)\n&quot;) ;</span>
<span class="nc" id="L229">                        inpGtria.append(&quot;-2 -8 -5 -6 -3 -9 -7 -4 -1 # (j2 l2 k2) (k3 j3 l3) (l1 k1 j1)&quot;) ;</span>
<span class="nc" id="L230">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L231">                        break;</span>
                case 2:
                        /* Yutsis Figure 19.1 and 19.2, index map, including the sign reveral of the l.
                        * Assume input order j1..j4, l1..l4, k1..k4.
                        * j1=1, j2=2, j3=3, j4=4
                        * l1=5, l2=6, l3=7, l4=8
                        * k1=9, k2=10, k3=11, k4=12
                        */
<span class="nc" id="L239">                        inpGtria.setText(&quot;12\n&quot;) ;</span>
<span class="nc" id="L240">                        inpGtria.append(&quot;1 12 -8 -1 5 -2 2 6 -3 3 7 -4 # (j1 k4 l4) (j1 l1 j2) (j2 l2 j3) (j3 l3 j4)\n&quot;) ;</span>
<span class="nc" id="L241">                        inpGtria.append(&quot;4 8 -9 9 -5 -10 10 -6 -11 11 -7 -12 # (j4 l4 k1) (k1 l1 k2) (k2 l2 k3) (k3 l3 k4)&quot;) ;</span>
<span class="nc" id="L242">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L243">                        break;</span>
                case 3:
<span class="nc" id="L245">                        inpGtria.setText(&quot;12\n&quot;) ;</span>
<span class="nc" id="L246">                        inpGtria.append(&quot;1 5 9 -9 -2 -7 2 11 8 -8 -12 -4 # (j1 l1 k1) (k1 j2 l3 ) (j2 k3 l4) (l4 k4 j4)\n&quot;) ;</span>
<span class="nc" id="L247">                        inpGtria.append(&quot;4 7 10 -10 -3 -5 3 6 12 -6 -11 -1 # (j4 l3 k2) (k2 j3 l1) (j3 l2 k4) (l2 k3 j1)&quot;) ;</span>
<span class="nc" id="L248">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L249">                        break;</span>
                case 4:
                        /* Yutsis Figure 20.2 to 20.3, index map.
                        * j1=1, j2=2, j3=3, j4=4, j5=5
                        * l1=6, l2=7, l3=8, l4=9, l5=10
                        * k1=11, k2=12, k3=13, k4=14, k5=15
                        */
<span class="nc" id="L256">                        inpGtria.setText(&quot;15\n&quot;) ;</span>
<span class="nc" id="L257">                        inpGtria.append(&quot;1 -6 2 -2 -7 3 -3 -8 4 -4 -9 5 -5 -10 11 # (j1 l1 j2)(j2 l2 j3)(j3 l3 j4)(j4 l4 j5)(j5 l5 k1)\n&quot;) ;</span>
<span class="nc" id="L258">                        inpGtria.append(&quot;-11 6 12 -12 7 13 -13 8 14 -14 9 15 -15 10 -1 # (k1 l1 k2)(k2 l2 k3)(k3 l3 k4)(k4 l4 k5)(k5 l5 j1)&quot;) ;</span>
<span class="nc" id="L259">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L260">                        break;</span>
                case 5:
<span class="nc" id="L262">                        inpGtria.setText(&quot;15\n&quot;) ;</span>
<span class="nc" id="L263">                        inpGtria.append(&quot;-1 -6 2 -2 -7 3 -3 -8 4 -4 -9 5 1 -5 -10 # (j1 l1 j2)(j2 l2 j3)(j3 l3 j4)(j4 l4 j5)(j1 j5 l5)\n&quot;) ;</span>
<span class="nc" id="L264">                        inpGtria.append(&quot;11 -15 10 9 15 -14 8 14 -13 7 13 -12 6 12 -11 # (k1 k5 l5)(l4 k5 k4)(l3 k4 k3)(l2 k3 k2)(l1 k2 k1)&quot;) ;</span>
<span class="nc" id="L265">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L266">                        break;</span>
                case 6:
                        /* Yutsis Figure 20.4a, index map.
                        * k1=1, k1'=2, k=3, k'=4, k2=5, k2'=6
                        * p1=7, p=8, p2=9,
                        * j1=10, j1'=11 j=12 j'=13 j2=14 j2'=15
                        */
<span class="nc" id="L273">                        inpGtria.setText(&quot;15\n&quot;) ;</span>
<span class="nc" id="L274">                        inpGtria.append(&quot;-13 -12 -8 12 14 10 -10 -1 7 -7 -11 -2 2 4 6 # (j' j p)(j j2 j1)(j1 k1 p1)(p1 j1' k1')(k1' k' k2')\n&quot;) ;</span>
<span class="nc" id="L275">                        inpGtria.append(&quot;-4 -3 8 1 3 5 -14 -5 9 -15 -6 -9 15 11 13 # (k' k p)(k1 k k2)(j2 k2 p2)(j2' k2' p2)(j2' j1' j')&quot;) ;</span>
<span class="nc" id="L276">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L277">                        break;</span>
                case 7:
                        /* Yutsis Figure 20.5a, index map.
                        * j1=1, k1=2 s1=3 k1'=4 j1'=5
                        * p=6 l=7 s=8 l'=9 p'=10
                        * j2=11 k2=12 s2=13 k2'=14 j2'=15
                        */
<span class="nc" id="L284">                        inpGtria.setText(&quot;15\n&quot;) ;</span>
<span class="nc" id="L285">                        inpGtria.append(&quot;-14 -12 -8 12 11 -10 -11 13 -7 7 -1 3 2 1 6 # (k2' k2 s)(k2 j2 p')(j2 s2 l)(l j1 s1)(k1 j1 p)\n&quot;) ;</span>
<span class="nc" id="L286">                        inpGtria.append(&quot;-4 -2 8 10 4 5 9 -5 -3 -13 -9 -15 15 -6 14 # (k1' k1 s)(p' k1' j1')(l' j1' s1)(s2 l' j2')(j2' p k2')&quot;) ;</span>
<span class="nc" id="L287">                        outG.setText(&quot;&quot;) ;</span>
<span class="nc" id="L288">                        break;</span>
                case 8:
                        /* Yutsis Figure 20.6, index map.
                        * k1=1 k1'=2 j1=3 l1=4 l1'=5
                        * k2=6 k2'=7 j2=8 l2=9 l2'=10
                        * k3=11 k3'=12 j3=13 l3=14 l3'=15
                        */
<span class="nc" id="L295">                        inpGtria.setText(&quot;15\n&quot;) ;</span>
<span class="nc" id="L296">                        inpGtria.append(&quot;-15 1 -7 -4 -11 7 5 4 -3 -12 -5 6 12 -9 -1 # (l3' k1 k2')(l1 k3 k2')(l1' l1 j1)(k3' l1' k2)(k3' l2 k1)\n&quot;) ;</span>
<span class="nc" id="L297">                        inpGtria.append(&quot;9 -8 10 -10 11 -2 -14 -6 2 14 -13 15 3 8 13 # (l2 j2 l2')(l2' k3 k1')(l3 k2 k1')(l3 j3 l3')(j1 j2 j3)&quot;) ;</span>
<span class="nc" id="L298">                        outG.setText(&quot;&quot;) ;</span>
                        break;
                }
<span class="nc" id="L301">        } /* valueChanged */</span>

        /** Main entry point.
        * not taking any command line options:&lt;br&gt;
        * java -jar Wigner3jGUI.jar&lt;br&gt;
        * @since 2012-02-16
        * @author Richard J. Mathar
        */
        public static void main(String[] args)
        {
<span class="nc" id="L311">                Wigner3jGUI g = new Wigner3jGUI() ;</span>
<span class="nc" id="L312">                g.init() ;</span>
<span class="nc" id="L313">        } /* main */</span>

} /* Wigner3jGUI */
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>